<!DOCTYPE html>
<html>
<head>
  <title>Checkout</title>
  <style>
    body{font-family:Arial; background:#111; color:#fff; padding:20px;}
    h2{text-align:center;}
    .cart-item{background:#222; padding:15px; margin:10px 0; border-radius:10px; display:flex; align-items:center;}
    .cart-item img{width:100px; border-radius:10px; margin-right:15px;}
    button{padding:8px 15px; margin-left:auto; border:none; border-radius:8px; cursor:pointer; background:#f4c542; color:#000; transition:0.3s;}
    button:hover{background:#e0b72f;}
    .checkout{display:block; margin:20px auto; padding:12px 30px; background:#4caf50; color:#fff; border:none; border-radius:10px; cursor:pointer;}
    .checkout:hover{background:#45a049;}
    .total{text-align:right; font-size:20px; margin-top:10px;}
  </style>
</head>
<body>

<h2>Your Cart</h2>
<div id="cartList"></div>
<div class="total" id="totalPrice"></div>
<button class="checkout" onclick="checkout()">Proceed to Payment</button>

<script>
let cart=JSON.parse(localStorage.getItem("cart"))||[];
const buyNow=JSON.parse(localStorage.getItem("buyNow"))||[];
if(buyNow.length>0) cart=buyNow;

const cartList=document.getElementById("cartList");
let total=0;

cart.forEach((p,i)=>{
  total+=p.price;
  const div=document.createElement("div");
  div.className="cart-item";
  div.innerHTML=`<img src="${p.image}" alt="${p.name}"><div><h4>${p.name}</h4><p>₹${p.price}</p></div><button onclick="remove(${i})">Remove</button>`;
  cartList.appendChild(div);
});

document.getElementById("totalPrice").innerText=`Total: ₹${total}`;

function remove(i){
  cart.splice(i,1);
  localStorage.setItem("cart", JSON.stringify(cart));
  location.reload();
}

function checkout(){
  if(cart.length===0){ alert("Cart is empty!"); return; }
  localStorage.setItem("buyNow", JSON.stringify(cart));
  window.location.href="payment.html";
}
</script>

</body>
</html>
